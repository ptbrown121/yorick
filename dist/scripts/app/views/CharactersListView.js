define(["jquery","backbone","text!../templates/character-list-item.html"],function(t,e,i){return e.View.extend({initialize:function(){_.bindAll(this,"render","clicked");var t=_.debounce(this.render,150);this.listenTo(this.collection,"add",t),this.listenTo(this.collection,"remove",t),this.listenTo(this.collection,"reset",this.render),this.click_url="#"},register:function(t){return this.click_url=t,this.render()},events:{"click .character-list-item":"clicked"},clicked:function(e){e.preventDefault(),t.mobile.loading("show");var i=t(e.currentTarget).attr("backendId"),l=_.template(this.click_url)({character_id:i});window.location.hash=l},render:function(){return this.template=_.template(i)({collection:this.collection,click_url:this.click_url}),this.$el.find("ul[data-role='listview']").html(this.template),this}})});